/**
 * 产品名称：quyiyuan.
 * 创建用户：张文华
 * 日期：2015年5月11日23:01:26
 * 创建原因：编辑银行卡页面服务层
 */
new KyeeModule()
    .group("kyee.quyiyuan.rebate.editBankCardMsg.service")
    .require([
        "kyee.quyiyuan.service_bus.http",
        "kyee.framework.service.message",
        "kyee.quyiyuan.rebate.rebateBank.service",
        "kyee.quyiyuan.service_bus.cache"
    ])
    .type("service")
    .name("EditBankCardMsgService")
    .params(["HttpServiceBus","KyeeMessageService","$state",'RebateBankService','$ionicHistory','CacheServiceBus','KyeeI18nService'])
    .action(function(HttpServiceBus,KyeeMessageService,$state,RebateBankService,$ionicHistory,CacheServiceBus,KyeeI18nService){

        var def = {
            //页面间传递参数
            pagedata:{
                bankCode:'',
                cityCode:''
            },
            setPagedata:function(pagedata){
                this.pagedata = pagedata;
            },
            getPagedata:function(){
                return this.pagedata;
            },
            lastPage:null,
            setLastPage:function(lastPage){
                this.lastPage = lastPage;
            },
            getLastPage:function(){
                return this.lastPage;
            },

            scope : null,
            bankType:null,

            initView:function(scope,initViewCallbackFunc){
                this.scope = scope;
                this.loadCardStore(initViewCallbackFunc);
            },
            //从选择支行恢复页面时，将支行信息同步到相应字段
            revertView:function(pagedata){
                this.pagedata=pagedata;
                this.scope.formMsgs.BANK_BRANCH = this.pagedata.BANK_BRANCH_NAME;
            },
            //读取银行信息
            loadCardStore:function(initViewCallbackFunc){
                var me = this;
                HttpServiceBus.connect({
                    url:'freeRgtPay/action/freeRgtPayActionC.jspx',
                    params: {
                        op:'getBankTypeInfo'
                    },
                    onSuccess: function (records) {
                        if(records.success){
                            me.bankType = records.data;
                            me.loadProvinceStore(initViewCallbackFunc);
                        }else{
                            if (records.message != null && records.message != undefined) {
                                KyeeMessageService.broadcast({
                                    content: records.message
                                });
                            } else {
                                KyeeMessageService.broadcast({
                                    content:KyeeI18nService.get('commonText.networkErrorMsg','网络异常，请稍后重试！',null)
                                });
                            }
                            $ionicHistory.goBack();
                        }
                    },
                    onError:function(){
                        $ionicHistory.goBack();
                    }
                });
            },
            //读取省份信息
            loadProvinceStore:function(initViewCallbackFunc){
                var me = this;
                HttpServiceBus.connect({
                    url:'freeRgtPay/action/freeRgtPayActionC.jspx',
                    params: {
                        op:'getBankArea'
                    },
                    onSuccess: function (records) {
                        if(records.success){
                            var result = {
                                bankType:me.bankType,
                                bankArea:records.data
                            };
                            initViewCallbackFunc(result);
                        }else{
                            if(records.message != null && records.message!=undefined){
                                KyeeMessageService.broadcast({
                                    content:records.message
                                });
                            }else {
                                KyeeMessageService.broadcast({
                                    content: KyeeI18nService.get('commonText.networkErrorMsg','网络异常，请稍后重试！',null)
                                });
                            }
                            $ionicHistory.goBack();
                        }
                    },
                    onError:function(){
                        $ionicHistory.goBack();
                    }
                });
            },
            //初始化选择器数据
            setSelectItems:function(type,bankInfo,BANK_PROVINCE_NAME){
                var result = null;
                if(type == 'bank'){
                    result = this.doPrepareBankSelectorData(bankInfo);
                }
                if(type == 'province'){
                    result = this.doPrepareProvinceSelectorData(bankInfo);
                }
                if(type == 'city'){
                    result = this.doPrepareCitySelectorData(bankInfo,BANK_PROVINCE_NAME);
                }
                return result;
            },
            //准备银行选择器数据
            doPrepareBankSelectorData:function(bankInfo){
                var selectItems = [];
                for(var i=0;i<bankInfo.bankType.length;i++){
                    var obj={
                        bankType:bankInfo.bankType[i].MAINTYPE_STATUS,
                        text:bankInfo.bankType[i].BANK_NAME,
                        value:bankInfo.bankType[i].BANK_ID  //KYEEAPPTEST-2752  修改银行绑定value值
                    };
                    selectItems.push(obj);
                }
                return selectItems;
            },
            //准备省份选择器数据
            doPrepareProvinceSelectorData:function(bankInfo){
                var selectItems = [];
                for(var i=0;i<bankInfo.bankArea.length;i++){
                    var obj={
                        text:bankInfo.bankArea[i].BANK_PROVINCE_NAME,
                        value:bankInfo.bankArea[i].BANK_PROVINCE_CODE
                    };
                    selectItems.push(obj);
                }
                return selectItems;
            },
            //准备城市选择器数据
            doPrepareCitySelectorData:function(bankInfo,BANK_PROVINCE_NAME){
                var selectItems = [];
                //判断省份是否在数据集中。
                //如果省份不在数据集中，城市不能选择
                if(this.doCheckProvinceBeforeSelectCity(bankInfo.bankArea,BANK_PROVINCE_NAME)){
                    for(var i=0;i<bankInfo.bankCity.length;i++){
                        var obj={
                            text:bankInfo.bankCity[i].BANK_CITY_NAME,
                            value:bankInfo.bankCity[i].BANK_CITY_CODE
                        };
                        selectItems.push(obj);
                    }
                    return selectItems;
                }else{
                    return false;
                }
            },
            //判断省份是否在数据集中
            doCheckProvinceBeforeSelectCity:function(bankArea,BANK_PROVINCE_NAME){
                if(BANK_PROVINCE_NAME == '' ){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.selectProvince','请选择省份',null)
                    });
                    return false;
                }
                var writeFlag = 1;//填写省份信息
                for(var i=0;i<bankArea.length;i++){
                    if(bankArea[i].BANK_PROVINCE_NAME == BANK_PROVINCE_NAME){
                        writeFlag = 0;//选择省份信息
                    }
                }
                if(writeFlag == 1){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.selectCity','请选择城市',null)
                    });
                    return false;
                }else{
                    return true
                }
            },
            //监听省份变化
            onProvinceChange:function(bankArea,BANK_PROVINCE_NAME,loadCityStoreCallbackFunc){
                var data = bankArea;
                var BANK_PROVINCE_CODE = '';
                if(data.length>0){
                    var writeFlag = 1;//填写省份信息
                    for(var i=0;i<data.length;i++){
                        if(data[i].BANK_PROVINCE_NAME == BANK_PROVINCE_NAME){
                            writeFlag = 0;//选择省份信息
                            BANK_PROVINCE_CODE = data[i].BANK_PROVINCE_CODE;
                        }
                    }
                    if(writeFlag == 0){
                        this.loadCityStore(BANK_PROVINCE_CODE,loadCityStoreCallbackFunc);
                    }
                }
            },
            //监听城市变化
            onCityChange:function(bankCity,BANK_CITY_NAME){
                for(var i=0;i<bankCity.length;i++){
                    if(bankCity[i].BANK_CITY_NAME == BANK_CITY_NAME){
                        return bankCity[i].BANK_CITY_CODE;
                    }
                }
            },
            //读取城市信息
            loadCityStore:function(BANK_PROVINCE_CODE,loadCityStoreCallbackFunc){
                HttpServiceBus.connect({
                    url:'freeRgtPay/action/freeRgtPayActionC.jspx',
                    params: {
                        op:'getBankAreaCity',
                        BANK_PROVINCE_CODE:BANK_PROVINCE_CODE
                    },
                    onSuccess: function (records) {
                        if(records.success){
                            var result = {
                                BANK_PROVINCE_CODE:BANK_PROVINCE_CODE,
                                bankCity:records.data
                            };
                            loadCityStoreCallbackFunc(result);
                        }else {
                            if(records.message != null && records.message!=undefined){
                                KyeeMessageService.broadcast({
                                    content:records.message
                                });
                            }else{
                                KyeeMessageService.broadcast({
                                    content: KyeeI18nService.get('commonText.networkErrorMsg','网络异常，请稍后重试！',null)
                                });
                            }
                            $ionicHistory.goBack();
                        }
                    }
                });
            },
            //选择支行点击
            onBankBranchTap:function(BANK_NAME,BANK_CITY_NAME,BankInfo){
                var bankCode = BANK_NAME;
                var cityCode = BANK_CITY_NAME;
                if(bankCode == undefined || bankCode == ''){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.bankTypePlaceHolder','请选择所属银行',null)
                    });
                    return;
                }
                if(cityCode == undefined || cityCode == ''){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.cardCityPlaceHolder','请选择或输入城市',null)
                    });
                    return;
                }
                var rec = BankInfo.bankType;
                var recCity = BankInfo.bankCity;
                var writeFlag = 1;//填写银行卡信息
                var writeCityFlag = 1;//填写城市信息
                for(var i=0;i<rec.length;i++){
                    if(rec[i].BANK_NAME == bankCode){
                        writeFlag = 0;//选择银行卡信息
                        bankCode = rec[i].BANK_CODE;
                    }
                }
                for(var i=0;i<recCity.length;i++){
                    if(recCity[i].BANK_CITY_NAME == cityCode){
                        writeCityFlag = 0;//选择银行卡信息
                        cityCode = recCity[i].BANK_CITY_CODE;
                    }
                }
                if(writeFlag == 1 || writeCityFlag == 1){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.belongBranchPlaceHolder','请选择或输入所属支行',null)
                    });
                    return;
                }
                var pagedata={
                    bankCode:bankCode,
                    cityCode:cityCode
                };
                this.doShowBankBranchView(pagedata);
            },
            //跳转到支行页面
            doShowBankBranchView:function(pagedata){
                this.setPagedata(pagedata);
                $state.go('rebateBankBranch')
            },
            //提交
            onSubmitBtn:function(formMsgs, bankType){

                var cardname=formMsgs.CARD_NAME.trim();//用户姓名
                var cardtype=formMsgs.BANK_NAME.trim();//卡类型
                if(cardname==''||cardname==null){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.UserName','请输入持卡人姓名！',null)
                    });
                    return;
                }
                var reg=new RegExp(" ","g"); //创建正则RegExp对象
                var cardno=formMsgs.CARD_NO.trim().replace(reg,"");//银行卡号

                if(cardno==''||cardno==null){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.CardNo','请输入银行卡号！',null)
                    });
                    return;
                }
                var cardYes =  this.luhmCheck(formMsgs.CARD_NO.trim().replace(eval("/"+' '+"/gi"),''));
                if(!cardYes){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.incorrectCard','您输入的银行卡号有误',null)
                    });
                    return;
                }
                if(cardtype==''||cardtype==null){
                    KyeeMessageService.broadcast({
                        content:KyeeI18nService.get('editBankCardMsg.Bank','请选择所属银行！',null)
                    });
                    return;
                }
                //银行所属省份
                var bankBelong;
                //支行
                var bankBranche=formMsgs.BANK_BRANCH;
                //如果不为银企直连则需要输入其他信息  By  章剑飞
                if(bankType!=1){
                    var city = formMsgs.BANK_CITY_NAME;
                    var prov = formMsgs.BANK_PROVINCE_NAME;
                    if( city == null || prov== null ||city==''|| prov == ''){
                        KyeeMessageService.broadcast({
                            content:KyeeI18nService.get('editBankCardMsg.inputProvinceAndCity','请选择或输入省份和城市！',null)
                        });
                        return;
                    }
                    if(prov==''||prov==undefined||prov==null){
                        KyeeMessageService.broadcast({
                            content:KyeeI18nService.get('editBankCardMsg.bankLocation','请选择银行卡开户所在地',null)
                        });
                        return;
                    }
                    if(prov=='北京市'||prov=='上海市'||prov=='天津市'||prov=='重庆市'||prov=='香港'||prov=='澳门'){
                        bankBelong=prov;
                    }else{
                        bankBelong=prov+city;
                    }
                    if(formMsgs.BANK_CODE != '500'){
                        if(bankBranche==''||bankBranche==null){
                            KyeeMessageService.broadcast({
                                content:KyeeI18nService.get('editBankCardMsg.belongBranchPlaceHolder','请选择或输入所属支行',null)
                            });
                            return;
                        }
                    }
                }
                var me = this;
                HttpServiceBus.connect({
                    url:'freeRgtPay/action/freeRgtPayActionC.jspx',
                    params: {
                        op:'saveUserBankMsg',
                        USER_ID:CacheServiceBus.getMemoryCache().get(CACHE_CONSTANTS.MEMORY_CACHE.CURRENT_USER_RECORD).USER_ID,
                        BANK_OWNER:cardname,
                        BANK_CARD_TYPE:cardtype,
                        BANK_CARD_NO:cardno,
                        BANK_BELONG:bankBelong,
                        BANK_BRANCHE:bankBranche
                    },
                    onSuccess: function (records) {
                        if(records.success){
                            var len = cardno.length;
                            var firstCardNo=cardno.substr(0,4);
                            var cardNum = KyeeI18nService.get('editBankCardMsg.cardNum','卡号：',null)+firstCardNo+"********"+cardno.substr(len-4, len);
                            var cardInfo = {BANK_NAME:cardtype,BANK_CARD_NO:cardno,BANK_CARD_TYPE_F:cardNum};
                            KyeeMessageService.broadcast({
                                content:KyeeI18nService.get('editBankCardMsg.bankBindSuccess','银行卡绑定成功',null)
                            });
                            RebateBankService.setLastView('EditRebateBankMsg');
                            RebateBankService.setPagedata(cardInfo);
                            //跳转至提取界面
                            var lastPage = me.getLastPage();
                            me.setLastPage(null);
                            if(lastPage == 'rebateBank'){
                                $ionicHistory.goBack(-1);//如果上一界面为提取界面，返回上一级
                            }else{
                                $ionicHistory.goBack(-2);//如果上一界面为银行卡列表，返回上上级（提取界面）
                            }
                        }else{
                            if(records.data != null && records.data != undefined) {
                                KyeeMessageService.broadcast({
                                    content:records.data
                                });
                            }else{
                                KyeeMessageService.broadcast({
                                    content:KyeeI18nService.get('editBankCardMsg.bankBindFail','绑定失败！',null)
                                });
                            }
                        }
                    }
                });
            },
            //校验
            luhmCheck:function (bankno){
                if (bankno.length < 16 || bankno.length > 19) {
                    //$("#banknoInfo").html("银行卡号长度必须在16到19之间");
                    //        Ext.Msg.alert("温馨提示","银行卡号不规范");
                    return false;
                }
                var num = /^\d*$/;  //全数字
                if (!num.exec(bankno)) {
                    //$("#banknoInfo").html("银行卡号必须全为数字");
                    //          Ext.Msg.alert("温馨提示","银行卡号不规范");
                    return false;
                }
                //开头6位
                var strBin="10,18,30,35,37,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58,60,62,65,68,69,84,87,88,94,95,98,99";
                if (strBin.indexOf(bankno.substring(0, 2))== -1) {
                    //$("#banknoInfo").html("银行卡号开头6位不符合规范");
                    return false;
                }
                var lastNum=bankno.substr(bankno.length-1,1);//取出最后一位（与luhm进行比较）

                var first15Num=bankno.substr(0,bankno.length-1);//前15或18位
                var newArr=new Array();
                for(var i=first15Num.length-1;i>-1;i--){    //前15或18位倒序存进数组
                    newArr.push(first15Num.substr(i,1));
                }
                var arrJiShu=new Array();  //奇数位*2的积 <9
                var arrJiShu2=new Array(); //奇数位*2的积 >9

                var arrOuShu=new Array();  //偶数位数组
                for(var j=0;j<newArr.length;j++){
                    if((j+1)%2==1){//奇数位
                        if(parseInt(newArr[j])*2<9)
                            arrJiShu.push(parseInt(newArr[j])*2);
                        else
                            arrJiShu2.push(parseInt(newArr[j])*2);
                    }
                    else //偶数位
                        arrOuShu.push(newArr[j]);
                }

                var jishu_child1=new Array();//奇数位*2 >9 的分割之后的数组个位数
                var jishu_child2=new Array();//奇数位*2 >9 的分割之后的数组十位数
                for(var h=0;h<arrJiShu2.length;h++){
                    jishu_child1.push(parseInt(arrJiShu2[h])%10);
                    jishu_child2.push(parseInt(arrJiShu2[h])/10);
                }

                var sumJiShu=0; //奇数位*2 < 9 的数组之和
                var sumOuShu=0; //偶数位数组之和
                var sumJiShuChild1=0; //奇数位*2 >9 的分割之后的数组个位数之和
                var sumJiShuChild2=0; //奇数位*2 >9 的分割之后的数组十位数之和
                var sumTotal=0;
                for(var m=0;m<arrJiShu.length;m++){
                    sumJiShu=sumJiShu+parseInt(arrJiShu[m]);
                }

                for(var n=0;n<arrOuShu.length;n++){
                    sumOuShu=sumOuShu+parseInt(arrOuShu[n]);
                }

                for(var p=0;p<jishu_child1.length;p++){
                    sumJiShuChild1=sumJiShuChild1+parseInt(jishu_child1[p]);
                    sumJiShuChild2=sumJiShuChild2+parseInt(jishu_child2[p]);
                }
                //计算总和
                sumTotal=parseInt(sumJiShu)+parseInt(sumOuShu)+parseInt(sumJiShuChild1)+parseInt(sumJiShuChild2);

                //计算Luhm值
                var k= parseInt(sumTotal)%10==0?10:parseInt(sumTotal)%10;
                var luhm= 10-k;

                if(lastNum==luhm){
                    return true;
                }else{
                    return false;
                }
            },
            //监听银行卡和确认银行卡输入事件
            onInputCardNo:function(cardNo){
                var value =cardNo.replace(/\s/g,'').replace(/(\d{4})(?=\d)/g,"$1 ");
                var name = '';
                var reg=new RegExp(" ","g"); //创建正则RegExp对象
                var cardno=cardNo.trim().replace(reg,"");//银行卡号
                if(cardno.length>=6){
                    name = this.getNameOfBank(cardno, 0);//获取银行卡的信息
                }
                this.luhmCheck(cardNo.trim().replace(eval("/"+' '+"/gi"),''));
                var result = {
                    cardNo:value,
                    name:name
                };
                return result;
            },
            bankBin : [
                102033,
                103000,
                185720,
                303781,
                356827,
                356828,
                356833,
                356835,
                356837,
                356838,
                356839,
                356840,
                356885,
                356886,
                356887,
                356888,
                356889,
                356890,
                370246,
                370247,
                370248,
                370249,
                400360,
                400937,
                400938,
                400939,
                400940,
                400941,
                400942,
                402658,
                402673,
                402791,
                403361,
                403391,
                404117,
                404157,
                404171,
                404172,
                404173,
                404174,
                404738,
                404739,
                405512,
                405512,
                406252,
                406254,
                406365,
                407405,
                409665,
                409666,
                409667,
                409668,
                409669,
                409670,
                409671,
                409672,
                410062,
                412962,
                412963,
                415599,
                421317,
                421349,
                421393,
                421437,
                421865,
                421869,
                421870,
                421871,
                422160,
                422161,
                424106,
                424107,
                424108,
                424109,
                424110,
                424111,
                424902,
                425862,
                427010,
                427018,
                427019,
                427020,
                427028,
                427029,
                427038,
                427039,
                427062,
                427064,
                427571,
                428911,
                431502,
                431502,
                433666,
                433670,
                433680,
                434061,
                434062,
                435744,
                435745,
                436718,
                436728,
                436738,
                436742,
                436745,
                436748,
                436768,
                438088,
                438125,
                438126,
                438588,
                438589,
                438600,
                439188,
                439225,
                439227,
                442729,
                442730,
                451289,
                451291,
                451804,
                451804,
                451810,
                451810,
                453242,
                456351,
                456418,
                458060,
                458060,
                458071,
                458071,
                458123,
                458124,
                468203,
                472067,
                472068,
                479228,
                479229,
                481699,
                486466,
                486493,
                486494,
                486497,
                487013,
                489592,
                489734,
                489735,
                489736,
                491020,
                491020,
                491031,
                491032,
                491040,
                493427,
                493878,
                498451,
                504923,
                510529,
                512315,
                512316,
                512411,
                512412,
                512425,
                512431,
                512466,
                512695,
                512732,
                514906,
                514957,
                514958,
                517636,
                518212,
                518364,
                518378,
                518379,
                518474,
                518475,
                518476,
                518710,
                518718,
                519412,
                519498,
                520082,
                520108,
                520131,
                520152,
                520169,
                520194,
                520382,
                521899,
                522153,
                523036,
                524011,
                524047,
                524070,
                524091,
                524094,
                524864,
                524865,
                525498,
                525745,
                525746,
                526410,
                526855,
                527414,
                528020,
                528931,
                528948,
                530970,
                530980,
                530980,
                530990,
                532420,
                532430,
                532450,
                532458,
                535910,
                535910,
                535918,
                537830,
                540297,
                540838,
                541068,
                541709,
                543159,
                544033,
                545619,
                545623,
                545947,
                547628,
                547648,
                547766,
                547766,
                548259,
                548844,
                552245,
                552288,
                552534,
                552587,
                552599,
                552742,
                552794,
                552801,
                552853,
                553131,
                553242,
                556610,
                556617,
                558360,
                558730,
                558808,
                558809,
                558868,
                558868,
                558894,
                558895,
                558916,
                566666,
                584016,
                601100,
                601101,
                601121,
                601122,
                601123,
                601124,
                601125,
                601126,
                601127,
                601128,
                601131,
                601136,
                601137,
                601138,
                601140,
                601142,
                601143,
                601144,
                601145,
                601146,
                601147,
                601148,
                601149,
                601174,
                601177,
                601178,
                601179,
                601186,
                601187,
                601188,
                601189,
                601382,
                601382,
                601428,
                601428,
                601428,
                601428,
                602907,
                602907,
                602969,
                602969,
                603128,
                603128,
                603367,
                603367,
                603445,
                603445,
                603506,
                603506,
                603601,
                603601,
                603601,
                603601,
                603601,
                603601,
                603602,
                603602,
                603694,
                603694,
                603708,
                603708,
                621021,
                621098,
                621201,
                621599,
                621785,
                621977,
                621977,
                622126,
                622126,
                622127,
                622127,
                622127,
                622127,
                622128,
                622128,
                622129,
                622129,
                622131,
                622131,
                622132,
                622132,
                622133,
                622133,
                622134,
                622134,
                622135,
                622135,
                622136,
                622136,
                622137,
                622137,
                622138,
                622138,
                622139,
                622139,
                622140,
                622140,
                622141,
                622141,
                622143,
                622143,
                622146,
                622146,
                622147,
                622147,
                622148,
                622148,
                622149,
                622149,
                622150,
                622150,
                622151,
                622151,
                622152,
                622152,
                622153,
                622153,
                622154,
                622154,
                622155,
                622155,
                622156,
                622156,
                622165,
                622165,
                622166,
                622166,
                622168,
                622168,
                622169,
                622169,
                622178,
                622178,
                622179,
                622179,
                622184,
                622184,
                622188,
                622188,
                622199,
                622199,
                622200,
                622200,
                622202,
                622202,
                622203,
                622203,
                622208,
                622208,
                622210,
                622210,
                622211,
                622211,
                622212,
                622212,
                622213,
                622213,
                622214,
                622214,
                622215,
                622215,
                622220,
                622220,
                622225,
                622225,
                622230,
                622230,
                622235,
                622235,
                622240,
                622240,
                622245,
                622245,
                622250,
                622250,
                622251,
                622251,
                622252,
                622252,
                622253,
                622253,
                622254,
                622254,
                622258,
                622258,
                622259,
                622259,
                622260,
                622260,
                622261,
                622261,
                622280,
                622280,
                622291,
                622291,
                622292,
                622292,
                622301,
                622301,
                622302,
                622302,
                622303,
                622303,
                622305,
                622305,
                622307,
                622307,
                622308,
                622308,
                622310,
                622310,
                622311,
                622311,
                622312,
                622312,
                622316,
                622316,
                622318,
                622318,
                622319,
                622319,
                622321,
                622321,
                622322,
                622322,
                622323,
                622323,
                622324,
                622324,
                622325,
                622325,
                622327,
                622327,
                622328,
                622328,
                622329,
                622329,
                622331,
                622331,
                622332,
                622332,
                622333,
                622333,
                622335,
                622335,
                622336,
                622336,
                622337,
                622337,
                622338,
                622338,
                622339,
                622339,
                622340,
                622340,
                622341,
                622341,
                622342,
                622342,
                622343,
                622343,
                622345,
                622345,
                622346,
                622346,
                622347,
                622347,
                622348,
                622348,
                622349,
                622349,
                622350,
                622350,
                622351,
                622351,
                622352,
                622352,
                622353,
                622353,
                622355,
                622355,
                622358,
                622358,
                622359,
                622359,
                622360,
                622360,
                622361,
                622361,
                622362,
                622362,
                622363,
                622363,
                622365,
                622365,
                622366,
                622366,
                622367,
                622367,
                622368,
                622368,
                622369,
                622369,
                622370,
                622370,
                622371,
                622371,
                622373,
                622373,
                622375,
                622375,
                622376,
                622376,
                622377,
                622377,
                622378,
                622378,
                622379,
                622379,
                622382,
                622382,
                622383,
                622383,
                622384,
                622384,
                622385,
                622385,
                622386,
                622386,
                622387,
                622387,
                622388,
                622388,
                622389,
                622389,
                622391,
                622391,
                622392,
                622392,
                622393,
                622393,
                622394,
                622394,
                622395,
                622395,
                622396,
                622396,
                622397,
                622397,
                622398,
                622399,
                622399,
                622400,
                622400,
                622406,
                622406,
                622407,
                622407,
                622411,
                622411,
                622412,
                622412,
                622413,
                622413,
                622415,
                622415,
                622418,
                622418,
                622420,
                622420,
                622421,
                622421,
                622422,
                622422,
                622423,
                622423,
                622425,
                622425,
                622426,
                622426,
                622427,
                622427,
                622428,
                622428,
                622429,
                622429,
                622432,
                622432,
                622434,
                622434,
                622435,
                622435,
                622436,
                622436,
                622439,
                622439,
                622440,
                622440,
                622441,
                622441,
                622442,
                622442,
                622443,
                622443,
                622447,
                622447,
                622448,
                622448,
                622449,
                622449,
                622450,
                622450,
                622451,
                622451,
                622452,
                622452,
                622453,
                622453,
                622456,
                622456,
                622459,
                622459,
                622462,
                622462,
                622463,
                622463,
                622466,
                622466,
                622467,
                622467,
                622468,
                622468,
                622470,
                622470,
                622471,
                622471,
                622472,
                622472,
                622476,
                622476,
                622477,
                622477,
                622478,
                622478,
                622481,
                622481,
                622485,
                622485,
                622486,
                622486,
                622487,
                622487,
                622487,
                622487,
                622488,
                622488,
                622489,
                622489,
                622490,
                622490,
                622490,
                622490,
                622491,
                622491,
                622491,
                622491,
                622492,
                622492,
                622492,
                622492,
                622493,
                622493,
                622495,
                622495,
                622496,
                622496,
                622498,
                622498,
                622499,
                622499,
                622500,
                622500,
                622506,
                622506,
                622509,
                622509,
                622510,
                622510,
                622516,
                622516,
                622517,
                622517,
                622518,
                622518,
                622519,
                622519,
                622521,
                622521,
                622522,
                622522,
                622523,
                622523,
                622525,
                622525,
                622526,
                622526,
                622538,
                622538,
                622546,
                622546,
                622547,
                622547,
                622548,
                622548,
                622549,
                622549,
                622550,
                622550,
                622561,
                622561,
                622562,
                622562,
                622563,
                622563,
                622575,
                622575,
                622576,
                622576,
                622577,
                622577,
                622578,
                622578,
                622579,
                622579,
                622580,
                622580,
                622581,
                622581,
                622582,
                622582,
                622588,
                622588,
                622598,
                622598,
                622600,
                622600,
                622601,
                622601,
                622602,
                622602,
                622603,
                622603,
                622615,
                622615,
                622617,
                622617,
                622619,
                622619,
                622622,
                622622,
                622630,
                622630,
                622631,
                622631,
                622632,
                622632,
                622633,
                622633,
                622650,
                622650,
                622655,
                622655,
                622658,
                622658,
                622660,
                622660,
                622678,
                622678,
                622679,
                622679,
                622680,
                622680,
                622681,
                622681,
                622682,
                622682,
                622684,
                622684,
                622688,
                622688,
                622689,
                622689,
                622690,
                622690,
                622691,
                622691,
                622692,
                622692,
                622696,
                622696,
                622698,
                622698,
                622700,
                622700,
                622725,
                622725,
                622728,
                622728,
                622750,
                622750,
                622751,
                622751,
                622752,
                622752,
                622753,
                622753,
                622754,
                622755,
                622755,
                622756,
                622756,
                622757,
                622757,
                622758,
                622758,
                622759,
                622759,
                622760,
                622760,
                622761,
                622761,
                622762,
                622762,
                622763,
                622763,
                622770,
                622770,
                622777,
                622777,
                622821,
                622821,
                622822,
                622822,
                622823,
                622823,
                622824,
                622824,
                622825,
                622825,
                622826,
                622826,
                622827,
                622836,
                622836,
                622837,
                622837,
                622840,
                622840,
                622841,
                622842,
                622843,
                622844,
                622844,
                622845,
                622845,
                622846,
                622846,
                622847,
                622847,
                622848,
                622848,
                622849,
                622855,
                622855,
                622856,
                622856,
                622857,
                622857,
                622858,
                622858,
                622859,
                622859,
                622860,
                622860,
                622861,
                622861,
                622864,
                622864,
                622865,
                622865,
                622866,
                622866,
                622867,
                622867,
                622869,
                622869,
                622870,
                622870,
                622871,
                622871,
                622877,
                622877,
                622878,
                622878,
                622879,
                622879,
                622880,
                622880,
                622881,
                622881,
                622882,
                622882,
                622884,
                622884,
                622885,
                622885,
                622886,
                622886,
                622891,
                622891,
                622892,
                622892,
                622893,
                622893,
                622895,
                622895,
                622897,
                622897,
                622898,
                622898,
                622900,
                622900,
                622901,
                622901,
                622908,
                622908,
                622909,
                622909,
                622940,
                622982,
                628218,
                628288,
                628366,
                628368,
                650600,
                650600,
                650700,
                650700,
                650800,
                650800,
                650900,
                650900,
                682900,
                682900,
                683970,
                683970,
                685800,
                685800,
                685800,
                685800,
                685800,
                685800,
                690755,
                690755,
                690755,
                690755,
                694301,
                694301,
                695800,
                695800,
                843010,
                843010,
                843360,
                843360,
                843420,
                843420,
                843610,
                843610,
                843730,
                843730,
                843800,
                843800,
                843850,
                843850,
                843900,
                843900,
                870000,
                870000,
                870100,
                870100,
                870300,
                870300,
                870400,
                870400,
                870500,
                870500,
                888000,
                888000,
                940056,
                955880,
                955881,
                955882,
                955888,
                984301,
                998800
            ],
            bankName:[
                "广东发展银行",
                "中国农业银行",
                "昆明农联社",
                "中国光大银行",
                "上海银行",
                "上海银行",
                "中国银行",
                "中国银行",
                "中国光大银行",
                "中国光大银行",
                "中国光大银行",
                "中国光大银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中信实业银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "招商银行",
                "上海银行",
                "中国工商银行",
                "中国农业银行",
                "中信实业银行",
                "中国农业银行",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "交通银行",
                "交通银行",
                "中国光大银行",
                "中国光大银行",
                "广东发展银行",
                "中国民生银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "招商银行",
                "深圳发展银行",
                "深圳发展银行",
                "中国民生银行",
                "北京银行",
                "中国建设银行",
                "中国民生银行",
                "中信实业银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "北京银行",
                "北京银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国光大银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国民生银行",
                "广东发展银行",
                "华夏.华夏卡",
                "华夏.华夏卡",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "中国建设银行",
                "中国建设银行",
                "深圳发展银行",
                "深圳发展银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "广东发展银行",
                "中国银行",
                "中国工商银行",
                "中国工商银行",
                "兴业银行",
                "兴业银行",
                "上海银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "中信实业银行",
                "中信实业银行",
                "兴业银行",
                "中国银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国建设银行",
                "中国银行",
                "上海浦东发展银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "交通银行",
                "交通银行",
                "招商银行",
                "中国民生银行",
                "中国民生银行",
                "招商银行",
                "招商银行",
                "中国光大银行",
                "上海银行",
                "兴业银行",
                "兴业银行",
                "中国光大银行",
                "广东发展银行",
                "中国建设银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行.",
                "中国农业银行",
                "中国农业银行",
                "中国建设银行",
                "广东发展银行",
                "交通银行",
                "广东发展银行",
                "中国银行",
                "上海浦东发展银行",
                "常州商业银行",
                "中国工商银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "招商银行",
                "宁波市商业银行",
                "中国民生银行",
                "中国银行",
                "中国银行",
                "中信实业银行",
                "中国银行",
                "中国银行",
                "中国民生银行",
                "中信实业银行",
                "广东发展银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "招商银行",
                "招商银行",
                "中国农业银行",
                "上海银行",
                "中国农业银行",
                "中信实业银行",
                "上海银行",
                "广东发展银行",
                "交通银行",
                "宁波市商业银行",
                "广东发展银行",
                "交通银行",
                "中国银行",
                "兴业银行",
                "招商银行",
                "中国工商银行",
                "兴业银行",
                "中国工商银行",
                "中国建设银行",
                "中国银行",
                "中国银行",
                "中国工商银行",
                "中国银行",
                "中国银行",
                "中国建设银行",
                "深圳市商业银行",
                "兴业银行",
                "深圳市商业银行",
                "广东发展银行",
                "中国民生银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "交通银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "广东发展银行",
                "中国光大银行",
                "中国建设银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国工商银行",
                "广东发展银行",
                "中国建设银行",
                "中国民生银行",
                "招商银行",
                "招商银行",
                "中国农业银行",
                "中国银行",
                "广东发展银行",
                "中国建设银行",
                "交通银行",
                "中国银行",
                "中国建设银行",
                "中国民生银行",
                "中信实业银行",
                "中国工商银行",
                "中国农业银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "广东发展银行",
                "中国建设银行",
                "中信实业银行",
                "沈阳市商业银行",
                "深圳农联社",
                "D.F.S.I(备注1).发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "D.F.S.I.发现卡",
                "中国银行",
                "中国银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "深圳商业银行",
                "深圳商业银行",
                "北京银行",
                "北京银行",
                "南京市商业银行",
                "南京市商业银行",
                "杭州商业银行",
                "杭州商业银行",
                "广州市商业银行",
                "广州市商业银行",
                "苏州市商业银行",
                "苏州市商业银行",
                "徽商银行合肥分行",
                "徽商银行合肥分行",
                "徽商银行合肥分行",
                "徽商银行合肥分行",
                "徽商银行合肥分行",
                "徽商银行合肥分行",
                "绍兴商业银行",
                "绍兴商业银行",
                "常熟农村商业银行",
                "常熟农村商业银行",
                "大连商业银行",
                "大连商业银行",
                "河北省农村信用社",
                "中国邮政储蓄银行",
                "韩亚银行",
                "中国邮政储蓄银行",
                "中国银行",
                "温州商业银行",
                "温州商业银行",
                "阜新市商业银行",
                "阜新市商业银行",
                "福建省农村信用社联合社",
                "厦门市农村信用合作社",
                "福建省农村信用社联合社",
                "厦门市农村信用合作社",
                "深圳农信社",
                "深圳农信社",
                "深圳市农村信用合作社联合社",
                "深圳市农村信用合作社联合社",
                "淮安市商业银行",
                "淮安市商业银行",
                "嘉兴市商业银行",
                "嘉兴市商业银行",
                "贵阳市商业银行",
                "贵阳市商业银行",
                "重庆市商业银行",
                "重庆市商业银行",
                "成都商业银行",
                "成都商业银行",
                "西安市商业银行",
                "西安市商业银行",
                "徽商银行芜湖分行",
                "徽商银行芜湖分行",
                "北京农联社",
                "北京农联社",
                "兰州市商业银行",
                "兰州市商业银行",
                "廊坊市商业银行",
                "廊坊市商业银行",
                "泰隆城市信用社",
                "泰隆城市信用社",
                "乌鲁木齐市商业银行",
                "乌鲁木齐市商业银行",
                "青岛商行",
                "青岛商行",
                "呼市商业银行",
                "呼市商业银行",
                "上海银行",
                "上海银行",
                "上海银行",
                "上海银行",
                "中国邮政储蓄银行",
                "中国邮政储蓄银行",
                "中国邮政储蓄银行",
                "中国邮政储蓄银行",
                "成都市商业银行",
                "成都市商业银行",
                "成都市商业银行",
                "成都市商业银行",
                "成都市商业银行",
                "成都市商业银行",
                "深圳市商业银行",
                "深圳市商业银行",
                "深圳市商业银行",
                "深圳市商业银行",
                "包头市商业银行",
                "包头市商业银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "湖南省农村信用社联合社",
                "湖南省农村信用社联合社",
                "吉林市商业银行",
                "吉林市商业银行",
                "吉林市商业银行",
                "吉林市商业银行",
                "福建省农村信用社联合社",
                "福建省农村信用社联合社",
                "中国邮政储蓄银行",
                "中国邮政储蓄银行",
                "中国邮政储蓄银行",
                "中国邮政储蓄银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行.",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "交通银行股份有限公司太平洋双币信用卡中心",
                "交行太平洋卡中心",
                "交通银行股份有限公司太平洋双币信用卡中心",
                "交行太平洋卡中心",
                "交通银行股份有限公司太平洋双币信用卡中心",
                "交行太平洋卡中心",
                "交通银行股份有限公司太平洋双币信用卡中心",
                "交行太平洋卡中心",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "交通银行",
                "中国建设银行",
                "中国建设银行",
                "柳州市商业银行",
                "柳州市商业银行",
                "柳州市商业银行",
                "柳州市商业银行",
                "湖州市商业银行",
                "湖州市商业银行",
                "佛山市禅城区农村信用联社",
                "佛山市禅城区农村信用联社",
                "南京市商业银行",
                "南京市商业银行",
                "南京市商业银行",
                "南京市商业银行",
                "九江市商业银行",
                "九江市商业银行",
                "昆明商业银行",
                "昆明商业银行",
                "西宁市商业银行",
                "西宁市商业银行",
                "淄博市商业银行",
                "淄博市商业银行",
                "徐州市郊农村信用合作联社",
                "徐州市郊农村信用合作联社",
                "宁波市商业银行",
                "宁波市商业银行",
                "宁波市商业银行",
                "宁波市商业银行",
                "山东农村信用联合社",
                "山东农村信用联合社",
                "台州市商业银行",
                "台州市商业银行",
                "顺德农信社.恒通卡",
                "顺德农信社.恒通卡",
                "常熟农村商业银行",
                "常熟农村商业银行",
                "江苏农信.圆鼎卡",
                "江苏农信.圆鼎卡",
                "武汉市商业银行",
                "武汉市商业银行",
                "徽商银行马鞍山分行",
                "徽商银行马鞍山分行",
                "东莞农村信用合作社",
                "东莞农村信用合作社",
                "天津市农村信用社",
                "天津市农村信用社",
                "天津市商业银行",
                "天津市商业银行",
                "张家港市农村商业银行",
                "张家港市农村商业银行",
                "东莞市商业银行",
                "东莞市商业银行",
                "南宁市商业银行",
                "南宁市商业银行",
                "包头市商业银行",
                "包头市商业银行",
                "连云港市商业银行",
                "连云港市商业银行",
                "焦作市商业银行",
                "焦作市商业银行",
                "鄞州农村合作银行",
                "鄞州农村合作银行",
                "徽商银行淮北分行",
                "徽商银行淮北分行",
                "江阴农村商业银行",
                "江阴农村商业银行",
                "攀枝花市商业银行",
                "攀枝花市商业银行",
                "佛山市三水区农村信用合作社",
                "佛山市三水区农村信用合作社",
                "成都农信社",
                "成都农信社",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "南洋商业银行",
                "南洋商业银行",
                "南洋商业银行",
                "南洋商业银行",
                "南洋商业银行",
                "南洋商业银行",
                "集友银行",
                "集友银行",
                "集友银行",
                "集友银行",
                "集友银行",
                "集友银行",
                "沧州农信社",
                "沧州农信社",
                "临沂市商业银行",
                "临沂市商业银行",
                "香港上海汇丰银行有限公司",
                "香港上海汇丰银行有限公司",
                "香港上海汇丰银行有限公司",
                "香港上海汇丰银行有限公司",
                "中山市农村信用合作社",
                "中山市农村信用合作社",
                "珠海市商业银行",
                "珠海市商业银行",
                "东亚银行有限公司",
                "东亚银行有限公司",
                "徽商银行安庆分行",
                "徽商银行安庆分行",
                "绵阳市商业银行",
                "绵阳市商业银行",
                "长沙市商业银行",
                "长沙市商业银行",
                "昆明市农村信用联社",
                "昆明市农村信用联社",
                "泉州市商业银行",
                "泉州市商业银行",
                "花旗银行有限公司",
                "花旗银行有限公司",
                "大新银行有限公司",
                "大新银行有限公司",
                "大新银行有限公司",
                "大新银行有限公司",
                "恒生银行有限公司",
                "恒生银行有限公司",
                "恒生银行有限公司",
                "恒生银行有限公司",
                "恒生银行有限公司",
                "恒生银行有限公司",
                "济南市商业银行",
                "济南市商业银行",
                "美国银行.人民币卡",
                "美国银行.人民币卡",
                "大连市商业银行",
                "大连市商业银行",
                "恒丰银行",
                "恒丰银行",
                "大连市商业银行",
                "大连市商业银行",
                "上海商业银行",
                "上海商业银行",
                "永隆银行有限公司",
                "永隆银行有限公司",
                "福州市商业银行",
                "福州市商业银行",
                "宁波鄞州农村合作银行",
                "宁波鄞州农村合作银行",
                "潍坊商业银行",
                "潍坊商业银行",
                "泸州市商业银行",
                "泸州市商业银行",
                "厦门市商业银行",
                "厦门市商业银行",
                "镇江市商业银行",
                "镇江市商业银行",
                "大同市商业银行",
                "大同市商业银行",
                "宜昌市商业银行",
                "宜昌市商业银行",
                "宜昌市商业银行",
                "宜昌市商业银行",
                "葫芦岛市商业银行",
                "辽阳市商业银行",
                "辽阳市商业银行",
                "营口市商业银行",
                "营口市商业银行",
                "香港上海汇丰银行有限公司.ATM Card",
                "香港上海汇丰银行有限公司.ATM Card",
                "香港上海汇丰银行有限公司.ATM Card",
                "香港上海汇丰银行有限公司.ATM Card",
                "威海市商业银行.通达卡",
                "威海市商业银行.通达卡",
                "湖北农信社.信通卡",
                "湖北农信社.信通卡",
                "鞍山市商业银行",
                "鞍山市商业银行",
                "丹东商行.银杏卡",
                "丹东商行.银杏卡",
                "南通市商业银行",
                "南通市商业银行",
                "洛阳市商业银行",
                "洛阳市商业银行",
                "郑州商业银行",
                "郑州商业银行",
                "扬州市商业银行",
                "扬州市商业银行",
                "永隆银行有限公司",
                "永隆银行有限公司",
                "哈尔滨市商业银行",
                "哈尔滨市商业银行",
                "天津市商业银行",
                "天津市商业银行",
                "台州市商业银行",
                "台州市商业银行",
                "银川市商业银行",
                "银川市商业银行",
                "银川市商业银行",
                "银川市商业银行",
                "大西洋银行股份有限公司",
                "大西洋银行股份有限公司",
                "澳门国际银行",
                "澳门国际银行",
                "澳门国际银行",
                "澳门国际银行",
                "澳门国际银行",
                "澳门国际银行",
                "广州农村信用合作社联合社",
                "广州农村信用合作社",
                "吉林市商业银行",
                "吉林市商业银行",
                "三门峡市城市信用社",
                "三门峡市城市信用社",
                "抚顺市商业银行",
                "抚顺市商业银行",
                "昆山农村信用合作社联合社",
                "昆山农村信用合作社联合社",
                "常州商业银行",
                "常州商业银行",
                "湛江市商业银行",
                "湛江市商业银行",
                "金华市商业银行",
                "金华市商业银行",
                "金华市商业银行",
                "金华市商业银行",
                "大新银行有限公司",
                "大新银行有限公司",
                "江苏农信社.圆鼎卡",
                "江苏农信社.圆鼎卡",
                "中信嘉华银行有限公司",
                "中信嘉华银行有限公司",
                "中信嘉华银行有限公司",
                "中信嘉华银行有限公司",
                "中信嘉华银行有限公司",
                "中信嘉华银行有限公司",
                "常熟市农村商业银行",
                "常熟市农村商业银行",
                "廖创兴银行有限公司",
                "廖创兴银行有限公司",
                "沈阳市商业银行",
                "沈阳市商业银行",
                "广州市商业银行",
                "广州市商业银行",
                "上海银行",
                "上海银行",
                "江门市新会农信社",
                "江门市新会农信社",
                "东亚银行有限公司",
                "东亚银行有限公司",
                "东亚银行有限公司",
                "东亚银行有限公司",
                "乌鲁木齐市商业银行",
                "乌鲁木齐市商业银行",
                "高要市农村信用联社",
                "高要市农村信用联社",
                "上海市农村信用合作社联合社",
                "上海市农村信用合作社联社",
                "江阴市农村商业银行",
                "江阴市农村商业银行",
                "无锡市商业银行",
                "无锡市商业银行",
                "绍兴市商业银行",
                "绍兴市商业银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "吴江农村商业银行",
                "吴江农村商业银行",
                "大新银行有限公司",
                "大新银行有限公司",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "星展银行",
                "AEON信贷财务.AEON JUSCO银联卡",
                "AEON信贷财务.AEON JUSCO银联卡",
                "Travelex.Travelex港币卡",
                "Travelex.Travelex港币卡",
                "Travelex.Travelex美元卡",
                "Travelex.Travelex美元卡",
                "石家庄市商业银行",
                "石家庄市商业银行",
                "石家庄市商业银行",
                "石家庄市商业银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "陕西省农村信用社联合社",
                "陕西省农村信用社联合社",
                "高要市农村信用合作社联合社",
                "高要市农村信用合作社联社",
                "高要市农村信用合作社联合社",
                "高要市农村信用合作社联社",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "上海浦东发展银行",
                "深圳发展银行",
                "深圳发展银行",
                "深圳发展银行",
                "深圳发展银行",
                "深圳发展银行",
                "深圳发展银行",
                "大丰银行有限公司",
                "大丰银行有限公司",
                "大丰银行有限公司",
                "大丰银行有限公司",
                "大丰银行有限公司",
                "大丰银行有限公司",
                "哈萨克斯坦国民储蓄银行.Halykbank Classic",
                "哈萨克斯坦国民储蓄银行.Halykbank Classic",
                "哈萨克斯坦国民储蓄银行.Halykbank Golden",
                "哈萨克斯坦国民储蓄银行.Halykbank Golden",
                "德阳市商业银行",
                "德阳市商业银行",
                "德阳市商业银行",
                "德阳市商业银行",
                "德阳市商业银行",
                "德阳市商业银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "中国民生银行",
                "华夏银行",
                "华夏银行",
                "华夏银行",
                "华夏银行",
                "华夏银行",
                "华夏银行",
                "华夏银行",
                "华夏银行",
                "中国光大银行",
                "中国光大银行",
                "中国光大银行",
                "中国光大银行",
                "中国光大银行",
                "中国光大银行",
                "光大银行",
                "光大银行",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "江西省农村信用社联合社",
                "江西省农村信用社联合社",
                "江西省农村信用社联合社",
                "江西省农村信用社联合社",
                "渤海银行",
                "渤海银行",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "中信实业银行信用卡中心",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "中信实业银行",
                "中信银行",
                "中信银行",
                "中信银行",
                "中信银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国建设银行",
                "中国银行澳门分行",
                "中国银行澳门分行",
                "中国银行澳门分行",
                "中国银行澳门分行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行",
                "中国银行澳门分行",
                "中国银行澳门分行",
                "曲靖市商业银行",
                "曲靖市商业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "中国农业银行",
                "江苏东吴农村商业银行",
                "江苏东吴农村商业银行",
                "桂林市商业银行",
                "桂林市商业银行",
                "日照市商业银行",
                "日照市商业银行",
                "浙江省农村信用社联合社",
                "浙江省农村信用社联社",
                "珠海农村信用合作社联社",
                "珠海农村信用合作联社",
                "大庆市商业银行",
                "大庆市商业银行",
                "澳门永亨银行股份有限公司",
                "澳门永亨银行股份有限公司",
                "莱芜市商业银行",
                "莱芜市商业银行",
                "长春市商业银行",
                "长春市商业银行",
                "徐州市商业银行",
                "徐州市商业银行",
                "重庆市农村信用社联合社",
                "重庆市农村信用社联合社",
                "太仓农村商业银行",
                "太仓农村商业银行",
                "靖江市长江城市信用社",
                "靖江市长江城市信用社",
                "永亨银行",
                "永亨银行",
                "徽商银行",
                "徽商银行",
                "杭州市商业银行",
                "杭州市商业银行",
                "徽商银行",
                "徽商银行",
                "柳州市商业银行",
                "柳州市商业银行",
                "柳州市商业银行",
                "柳州市商业银行",
                "尧都区农村信用合作社联社",
                "尧都区农村信用合作社联社",
                "渤海银行",
                "渤海银行",
                "重庆市农村信用社联合社",
                "重庆市农村信用社联合社",
                "烟台市商业银行",
                "烟台市商业银行",
                "武进农村商业银行",
                "武进农村商业银行",
                "上海银行",
                "上海银行",
                "贵州省农村信用社联合社",
                "贵州省农村信用社联合社",
                "江苏锡州农村商业银行",
                "江苏锡州农村商业银行",
                "中外合资.南充市商业银行",
                "中外合资.南充市商业银行",
                "长沙市商业银行",
                "长沙市商业银行",
                "长沙市商业银行",
                "长沙市商业银行",
                "兴业银行",
                "兴业银行",
                "兴业银行",
                "兴业银行",
                "兴业银行",
                "兴业银行",
                "石嘴山城市信用社",
                "张家口市商业银行",
                "交通银行",
                "中国工商银行",
                "中国建设银行",
                "大庆市商业银行",
                "Discover Financial Services，Inc.发现卡",
                ".发现卡",
                "Discover Financial Services，Inc.发现卡",
                ".发现卡",
                "Discover Financial Services，Inc.发现卡",
                ".发现卡",
                "Discover Financial Services，Inc.发现卡",
                ".发现卡",
                "上海银行",
                "上海银行",
                "泉州市商业银行",
                "泉州市商业银行",
                "广东发展银行",
                "广东发展银行",
                "广东发展银行",
                "广东发展银行",
                "广东发展银行",
                "广东发展银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "招商银行",
                "长沙市商业银行",
                "长沙市商业银行",
                "南通商业银行",
                "南通商业银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "浦东发展银行",
                "贵阳市商业银行",
                "贵阳市商业银行",
                "郑州市商业银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "中国工商银行",
                "上海浦东发展银行",
                "深圳发展银行"
            ],
            //   },
            binarySearch:function(srcArray,des){

                var low = 0;
                var high = srcArray.length-1;
                while(low <= high)
                {
                    var middle = parseInt((low + high)/2);
                    if(des == srcArray[middle])
                    {
                        return middle;
                    }
                    else if(des <srcArray[middle])
                    {
                        high = middle - 1;
                    }
                    else
                    {
                        low = middle + 1;
                    }
                }
                return -1;
            },
            getNameOfBank:function(charBin,offset){
                var longBin = 0;
                var test = 0;
                for(var i=0; i< 6; i++)
                {
                    longBin = (longBin*10) + (charBin[i+offset]-48);
                }
                test = charBin.substr(0,6);
                test = parseInt(test);
                var index = this.binarySearch(this.bankBin, test);
                if(index==-1)
                {
                    return "";
                }
                return this.bankName[index];
            }
        };
        return def;
    })
    .build();
